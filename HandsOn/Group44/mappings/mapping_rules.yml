prefixes:
  rr: http://www.w3.org/ns/r2rml#
  foaf: http://xmlns.com/foaf/0.1/
  xsd: http://www.w3.org/2001/XMLSchema#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  dc: http://purl.org/dc/elements/1.1/
  rev: http://purl.org/stuff/rev#
  gtfs: http://vocab.gtfs.org/terms#
  geo: http://www.w3.org/2003/01/geo/wgs84_pos#
  schema: http://schema.org/
  dct: http://purl.org/dc/terms/
  rml: http://semweb.mmlab.be/ns/rml#
  ql: http://semweb.mmlab.be/ns/ql#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  swo: http://www.semanticweb.org/group44/ontologies/2020/9/madridAirQuality#
  dbp: http://dbpedia.org/ontology/

mappings:
  provincia:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://dbpedia.org/ontology/province/$(PROVINCIA)
    po:
      - [a, dbp:province]
      - [swo:Codigo, $(PROVINCIA)]
    
  municipio:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://dbpedia.org/ontology/Municipality/$(MUNICIPIO)
    po:
      - [a, dbp:Municipality]
      - [swo:Codigo, $(MUNICIPIO)]
      - p: swo:formaParteDe
        o:
          - mapping: provincia
      - p: swo:contieneEstaciones
        o:
          - mapping: estacion
            
  estacion:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://www.semanticweb.org/group44/ontologies/2020/9/madridAirQuality/Estacion/$(ESTACION)
    po:
      - [a, swo:Estacion]
      - [swo:Codigo, $(ESTACION)]
      - [swo:lugarEstacion, $(LUGAR_ESTACION)]
      - p: swo:tomaMuestras
        o:
          - mapping: muestra
    
  Muestra:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://www.semanticweb.org/group44/ontologies/2020/9/madridAirQuality/Muestra/$(ID)
    po:
      - [a, swo:Muestra]
      # - [swo:Codigo, ???]
      - [swo:Compuesto_medido, $(COMPUESTOS_MEDIDOS)]
      # - [swo:Date, $(???)]
      - [swo:Tecnica_de_medicion, $(TECNICA_DE_MEDIDA)]
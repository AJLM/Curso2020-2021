prefixes:
  xsd: http://www.w3.org/2001/XMLSchema#
  swo: http://www.semanticweb.org/group44/ontologies/2020/9/madridAirQuality#
  dbp: http://dbpedia.org/ontology/

mappings:
  provincia:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://dbpedia.org/ontology/province/$(PROVINCIA)
    po:
      - [a, dbp:province]
      - [swo:Codigo, $(PROVINCIA)]
    
  municipio:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://dbpedia.org/ontology/Municipality/$(MUNICIPIO)
    po:
      - [a, dbp:Municipality]
      - [swo:Codigo, $(MUNICIPIO)]
      - p: swo:formaParteDe
        o:
          - mapping: provincia
      - p: swo:contieneEstaciones
        o:
          - mapping: estacion
            
  estacion:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://www.semanticweb.org/group44/ontologies/2020/9/madridAirQuality/Estacion/$(ESTACION)
    po:
      - [a, swo:Estacion]
      - [swo:Codigo, $(ESTACION)]
      - [swo:lugarEstacion, $(LUGAR_ESTACION)]
      - p: swo:tomaMuestras
        o:
          - mapping: muestra
    
  muestra:
    source:
      - [../csv/MadridAirQuality2020-update.csv~csv]
    s: http://www.semanticweb.org/group44/ontologies/2020/9/madridAirQuality/Muestra/$(ID)
    po:
      - [a, swo:Muestra]
      - [swo:Codigo, $(ID)]
      - [swo:Compuesto_medido, $(COMPUESTO_MEDIDO)]
      - [xsd:date, $(FECHA)] # No tengo claro si XSD sigue el mismo formato que nuestro CSV, creo que no y el formato correcto es YYYY-MM-DD
      - [swo:Tecnica_de_medicion, $(TECNICA_DE_MEDICION)]